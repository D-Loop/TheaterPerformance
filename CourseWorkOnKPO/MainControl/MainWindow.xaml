<Window x:Class="KPO.MainControl.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialControls="clr-namespace:Telerik.Windows.Controls.MaterialControls;assembly=Telerik.Windows.Controls"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        mc:Ignorable="d" 
        xmlns:tabbedWindow="clr-namespace:Telerik.Windows.Controls.TabbedWindow;assembly=Telerik.Windows.Controls.Navigation"
        xmlns:calendar="clr-namespace:Telerik.Windows.Controls.Calendar;assembly=Telerik.Windows.Controls.Input"
        xmlns:helper="clr-namespace:KPO.Helper"
        xmlns:mainControl="clr-namespace:KPO.MainControl"
        xmlns:maskedInput="clr-namespace:Telerik.Windows.Controls.MaskedInput;assembly=Telerik.Windows.Controls.Input"
        Title="MainWindow" 
        x:Name="MWindow" 
        WindowStartupLocation="CenterScreen" ResizeMode="CanResizeWithGrip" AllowsTransparency="True"
        Width="1920" 
        Height="1080"
        WindowStyle="None" Background="#262626" >
    <UserControl>
        <UserControl.Resources>

            <SolidColorBrush x:Key="TrackBackgroundNormalOfficeBlack" Color="#AAA"/>
            <SolidColorBrush x:Key="TrackBackgroundCheckedOfficeBlack" Color="#FF92FE27"/>
            <SolidColorBrush x:Key="BorderBrushOfficeBlack" Color="#999"/>

            <SolidColorBrush x:Key="ThumbBackgroundNormalOfficeBlack" Color="White"/>
            <SolidColorBrush x:Key="ThumbBackgroundCheckedOfficeBlack" Color="White"/>
            <SolidColorBrush x:Key="ThumbBorderBrushdCheckedOfficeBlack" Color="#FF92FE27"/>
            <SolidColorBrush x:Key="TumbBorderBrushMouseOverBrushOfficeBlack" Color="#FF92FE27"/>

            <Style x:Key="ToggleSwitchButtonStyleOfficeBlack" TargetType="telerik:RadToggleButton">
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding" Value="1"/>
                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                <Setter Property="HorizontalContentAlignment" Value="Right"/>
                <Setter Property="Background" Value="{StaticResource TrackBackgroundNormalOfficeBlack}"/>
                <Setter Property="BorderBrush" Value="{StaticResource BorderBrushOfficeBlack}"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="telerik:RadToggleButton">
                            <Grid UseLayoutRounding="True">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CheckStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition From="Unchecked" To="Checked">
                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="Thumb">
                                                        <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                                                        <SplineDoubleKeyFrame KeyTime="0:0:0.4" Value="35" KeySpline="0,0.5,0.5,1"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualTransition>
                                            <VisualTransition From="Checked" To="UnChecked">
                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="Thumb">
                                                        <SplineDoubleKeyFrame KeyTime="0" Value="30"/>
                                                        <SplineDoubleKeyFrame KeyTime="0:0:0.3" Value="0" KeySpline="0, 0.6, 0.6, 1"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualTransition>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Checked">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="Thumb">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value="35"/>
                                                    <SplineDoubleKeyFrame KeyTime="0:0:0.4" Value="35" KeySpline="0,0.5,0.5,1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Unchecked">
                                            <Storyboard>

                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Grid SnapsToDevicePixels="True">
                                    <Rectangle x:Name="Track" Fill="{TemplateBinding BorderBrush}" HorizontalAlignment="Left" Height="7"  Stroke="{x:Null}" VerticalAlignment="Center" Width="53" RadiusY="4.5" RadiusX="4.5" />

                                    <Ellipse x:Name="Thumb" Fill="{StaticResource TrackBackgroundNormalOfficeBlack}" HorizontalAlignment="Left" StrokeThickness="1" Stroke="{TemplateBinding BorderBrush}" 
                                         VerticalAlignment="Top" Width="19" Height="19" RenderTransformOrigin="0.5,0.5">
                                        <Ellipse.RenderTransform>
                                            <TranslateTransform X="0" Y="0" />
                                        </Ellipse.RenderTransform>
                                    </Ellipse>
                                </Grid>
                                <ContentPresenter x:Name="Content"
                                Margin="{TemplateBinding Padding}"
                                Content="{TemplateBinding Content}"
                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}"
                                ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                RecognizesAccessKey="True"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Thumb" Property="StrokeThickness" Value="2" />
                                    <Setter TargetName="Thumb" Property="Stroke" Value="{StaticResource ThumbBorderBrushdCheckedOfficeBlack}" />
                                </Trigger>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="Track" Property="Opacity" Value="0.4" />
                                    <Setter TargetName="Thumb" Property="Fill" Value="{StaticResource ThumbBackgroundCheckedOfficeBlack}" />
                                    <Setter TargetName="Thumb" Property="Stroke" Value="{StaticResource ThumbBorderBrushdCheckedOfficeBlack}" />
                                    <Setter TargetName="Track" Property="Fill" Value="{StaticResource TrackBackgroundCheckedOfficeBlack}" />

                                    <Setter TargetName="Content" Property="HorizontalAlignment" Value="Left" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>



            <Style x:Key="DeleteButtonStyle" TargetType="telerik:RadButton" >
                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                <Setter Property="Background" Value="{telerik:FluentResource ResourceKey=AccentBrush}" />
                <Setter Property="Foreground" Value="{telerik:FluentResource ResourceKey=MarkerInvertedBrush}" />
                <Style.Triggers>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter Property="Foreground" Value="{telerik:FluentResource ResourceKey=MarkerBrush}"/>
                        <Setter Property="BorderBrush" Value="{telerik:FluentResource ResourceKey=AlternativeBrush}"/>
                        <Setter Property="Background" Value="{telerik:FluentResource ResourceKey=AlternativeBrush}"/>
                    </Trigger>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Background" Value="#AA8B0000"/>
                        <Setter Property="BorderBrush" Value="#A08B0000"/>
                        <Setter Property="BorderThickness" Value="1"/>
                    </Trigger>
                    <Trigger Property="IsKeyboardFocusWithin" Value="True">
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="BorderThickness" Value="1"/>
                        <Setter Property="Background" Value="#AA8B0000"/>
                        <Setter Property="BorderBrush" Value="#A08B0000"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

	    
            <Style x:Key="HyperlinkLikeButton" TargetType="telerik:RadButton">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="telerik:RadButton">
                            <ContentPresenter />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Foreground" Value="LightSeaGreen" />
                <Setter Property="Cursor" Value="Hand" />
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="true">
                        <Setter Property="Foreground" Value="Aqua" />
                        <Setter Property="FontWeight" Value="Bold" />
                    </Trigger>
                </Style.Triggers>
            </Style>
            
            <Style  TargetType="telerik:RadListBoxItem" x:Key="RampListbox" >
                <Setter Property="Background" Value="Transparent"/>
			    <Setter Property="HorizontalContentAlignment" Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
			    <Setter Property="VerticalContentAlignment" Value="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
			    <Setter Property="Padding" Value="5"/>
                <Setter Property="Margin" Value="5"></Setter>
			    <Setter Property="FocusVisualStyle">
				    <Setter.Value>
					    <Style>
						    
               
						    <Setter Property="Control.Template" Value="{x:Null}"/>
					    </Style>
				    </Setter.Value>
			    </Setter>
			    <Setter Property="Template">
				    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type telerik:RadListBoxItem}">
						    <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" Padding="0" SnapsToDevicePixels="true" Margin="0">
							    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
						    </Border>
						    <ControlTemplate.Triggers>
							    <Trigger Property="IsEnabled" Value="false">
								    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
							    </Trigger>
							    <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="DarkSlateBlue"/>
							    </Trigger>
							    <Trigger Property="IsMouseOver" Value="False">
								    <Setter Property="Background" Value="Transparent"/>
							    </Trigger>

                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="DarkSlateBlue"/>
                                </Trigger>

                                <DataTrigger Binding="{Binding Value.IsFree}" Value="false">
                                    <Setter Property="Background" Value="DarkRed"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Value.IsFree}" Value="false">
                                    <Setter Property="IsSelected" Value="False"/>
                                </DataTrigger>
                              
             
						    </ControlTemplate.Triggers>
					    </ControlTemplate>
				    </Setter.Value>
			    </Setter>

                <Setter Property="BorderThickness" Value="1"/>

            </Style>

            <Style TargetType="TextBlock" x:Key="ElTextStatusPassString">
                <Setter Property="Padding" Value="10 0 0 5"/>
                <Setter Property="Margin" Value="5 5 5 0"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Height" Value="19"/>
                <Setter Property="FontSize" Value="15"/>
                <Setter Property="Foreground" Value="#999999"/>
            </Style>


            <Style  TargetType="telerik:RadListBoxItem" x:Key="ListItem">
                <Setter Property="Background" Value="#323234"/>
                <Setter Property="Foreground" Value="#FFF"></Setter>
                <Setter Property="HorizontalContentAlignment" Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
                <Setter Property="VerticalContentAlignment" Value="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
                <Setter Property="Padding" Value="5"/>
                <Setter Property="Margin" Value="5"/>
                <Setter Property="FocusVisualStyle">
                    <Setter.Value>
                        <Style>
                            <Setter Property="Control.Template" Value="{x:Null}"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type telerik:RadListBoxItem}">
                            <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="1" CornerRadius="10" Background="{TemplateBinding Background}" 
                                    Padding="0" SnapsToDevicePixels="true" Margin="0">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#666"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="DarkGreen"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

                <Setter Property="BorderThickness" Value="0"/>

            </Style>

            <Style x:Key="DataTextStyle" TargetType="TextBox">
			    <Setter Property="FocusManager.IsFocusScope" Value="True"/>
			    <Setter Property="IsReadOnlyCaretVisible" Value="False"/>
			    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
			    <Setter Property="SelectionBrush" Value="DarkGreen"/>
			    <Setter Property="Background" Value="#262626"/>
			    <Setter Property="VerticalAlignment" Value="Stretch"/>
			    <Setter Property="HorizontalAlignment" Value="Left"/>
			    <Setter Property="Background" Value="#202020"/>
			    <Setter Property="BorderThickness" Value="0"/>
			    <Setter Property="Foreground" Value="Aqua"/>
			    <Setter Property="IsReadOnly" Value="True"/>
			    <Setter Property="FontSize" Value="15"/>
			    <Setter Property="Padding" Value="7 0 0 0"/>
			    <Setter Property="Margin" Value="5 5 0 0"/>
            </Style>
        
            <Style TargetType="TextBlock" x:Key="ElTextStatusUsersString">
                 <Setter Property="Padding" Value="10 0 0 5"/>
                <Setter Property="Margin" Value="5 5 5 0"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Height" Value="19"/>
                <Setter Property="FontSize" Value="15"/>
                <Setter Property="Foreground" Value="Aqua"/>
            </Style>
            
            <Style TargetType="TextBlock" x:Key="ElTextStatusString">
                <Setter Property="Margin" Value="15 5 5 0"/>
                <Setter Property="FontSize" Value="11"/>
                <Setter Property="Foreground" Value="White"/>
            </Style>

            
             <Style TargetType="TextBlock" x:Key="RowFormatStyle">
                <Setter Property="Foreground" Value="#FFF"/>
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsTooLong}" Value="True">
                        <Setter Property="Foreground" Value="Red"/>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            
            <Style TargetType="TextBlock" x:Key="ElDataStatusString">
                <Setter Property="Margin" Value="5 3 25 0"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Foreground" Value="LightSeaGreen"/>
            </Style>

            <ControlTemplate x:Key="validationFailed">
                <StackPanel Orientation="Horizontal">
                    <Border BorderBrush="#BB5555" BorderThickness="1" Height="auto" Margin="-2 0 2 0">
                        <AdornedElementPlaceholder />
                    </Border>
                </StackPanel>
            </ControlTemplate>

            <Style x:Key="MaskTextInputStyle" TargetType="telerik:RadMaskedTextInput">
                <Setter Property="Margin" Value="10 0 0 0"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Mask" Value="a100"/>
                <Setter Property="Height" Value="20"/>
                <Setter Property="Padding" Value="3 0 0 0"/>
                <Setter Property="Placeholder" Value=" "/>
                <Style.Triggers>
                    <Trigger Property="IsEmpty" Value="True">
                        <Setter Property="Foreground" Value="Gray" />
                    </Trigger>

                    <!--<Trigger Property="Validation.HasError" Value="True">
					    <Setter Property="ToolTip"
					            Value="{Binding RelativeSource={RelativeSource Self},
			                        Path=(Validation.Errors)[0].ErrorContent}" />
					    <Setter Property="Foreground" Value="Red" />
				    </Trigger>-->
                    <Trigger Property="IsFocused" Value="false">
                        <Setter Property="Padding" Value="0 0 0 0" />

                    </Trigger>
                </Style.Triggers>

            </Style >

            <telerik:StringToGlyphConverter x:Key="StringToGlyphConverter" />

            <Style x:Key="ButtonRibbonStyle" TargetType="telerik:RadButton">
                <Setter Property="Height" Value="41"/>
                <Setter Property="Width" Value="41"/>
                <Setter Property="IsBackgroundVisible" Value="false"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Focusable" Value="false"/>
            </Style >

            <Style x:Key="ImageButtonRibbonStyle" TargetType="Image">
                <Setter Property="Margin" Value="4 6 4 4"/>
            </Style>

            <Style x:Key="MenuItemContainer" TargetType="telerik:RadMenuItem">
                <Setter Property="Icon" Value="{Binding Icon}"/>
                <Setter Property="Foreground" Value="#AAAAAA"/>
                <Setter Property="IconTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <telerik:RadGlyph Glyph="{Binding Converter={StaticResource StringToGlyphConverter}}" />
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="IsSeparator" Value="{Binding IsSeparator}"/>
                <Setter Property="Header" Value="{Binding Header}"/>
                <Setter Property="ItemsSource" Value="{Binding Items}"/>
                <Setter Property="Command" Value="{Binding Command}"/>
                <Setter Property="IsEnabled" Value="{Binding IsEnabled}"/>
                <Setter Property="CommandParameter" Value="{Binding CommandParameter}"/>
            </Style>


            <Style TargetType="telerik:GridViewHeaderCell">
                <Setter Property="FontWeight" Value="Light"/>
                <Setter Property="Foreground" Value="#AAAAAA"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
            </Style>

            <Style TargetType="telerik:GridViewRow" >
                <Setter Property="Background" Value="#202020"/>
                <Style.Triggers>
                    <!--<DataTrigger Binding="{Binding IsInEditMode}" Value="true">
                        <Setter Property="IsInEditMode" Value="True"/>
                    </DataTrigger>-->
                  
                </Style.Triggers>
            </Style>

            <helper:DayButtonStyleSelector x:Key="CustomStyleSelector">

                <helper:DayButtonStyleSelector.SpecialStyleDisabledDay>
                    <Style TargetType="calendar:CalendarButton">

                        <Setter Property="Foreground">
                            <Setter.Value>
                                <SolidColorBrush Color="DimGray" Opacity="0.6"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="IsEnabled" Value="True"></Setter>
                    </Style>
                </helper:DayButtonStyleSelector.SpecialStyleDisabledDay>
                <helper:DayButtonStyleSelector.SpecialStyleDraftScheme>
                    <Style TargetType="calendar:CalendarButton">

                        <Setter Property="Background">
                            <Setter.Value>
                                <SolidColorBrush Color="IndianRed" Opacity="0.6"/>
                            </Setter.Value>
                        </Setter>


                    </Style>
                </helper:DayButtonStyleSelector.SpecialStyleDraftScheme>


                <helper:DayButtonStyleSelector.SpecialStyleEnabledScheme>
                    <Style TargetType="calendar:CalendarButton">
                        <Setter Property="Foreground">
                            <Setter.Value>
                                <SolidColorBrush Color="CadetBlue" />
                            </Setter.Value>
                        </Setter>

                    </Style>
                </helper:DayButtonStyleSelector.SpecialStyleEnabledScheme>


                <helper:DayButtonStyleSelector.SpecialStyleActiveScheme>
                    <Style TargetType="calendar:CalendarButton">
                        <Setter Property="Foreground">
                            <Setter.Value>
                                <SolidColorBrush Color="#AAAAAA" />
                            </Setter.Value>
                        </Setter>
                    </Style>
                </helper:DayButtonStyleSelector.SpecialStyleActiveScheme>
            </helper:DayButtonStyleSelector>

            <helper:DayButtonTemplateSelector x:Key="DayButtonTemplateSelector">
                <helper:DayButtonTemplateSelector.DefaultTemplate>
                    <DataTemplate>
                        <StackPanel Margin="-5 -7 0 0">
                            <TextBlock Name="txt" Text="{Binding Text}" Padding="0" >
                                <telerik:RadContextMenu.ContextMenu >
                                    <telerik:RadContextMenu ItemContainerStyle="{StaticResource MenuItemContainer}" 
                                                            FontWeight="Normal"
                                                            Foreground="#FFBBBBBB" />
                                </telerik:RadContextMenu.ContextMenu>
                            </TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </helper:DayButtonTemplateSelector.DefaultTemplate>
            </helper:DayButtonTemplateSelector>

            <Style x:Key="DraggableListBoxItem" TargetType="telerik:RadListBoxItem" >
                <Setter Property="telerik:DragDropManager.AllowCapturedDrag" Value="True" />
                <Setter Property="Padding" Value="0 4 0 5"/>
            </Style>

            <Style x:Key="RowName">
                <Setter Property="TextBlock.Foreground" Value="#c8c8c8" />
                <Setter Property="TextBlock.VerticalAlignment" Value="Center"/>
                <Setter Property="TextBlock.HorizontalAlignment" Value="Center"/>
                <Setter Property="TextBlock.FontSize" Value="12"></Setter>
            </Style>

            <Style x:Key="TitleStyle">
                <Setter Property="TextBlock.Foreground" Value="#999999" />
                <Setter Property="TextBlock.VerticalAlignment" Value="Center"/>
                <Setter Property="TextBlock.HorizontalAlignment" Value="Center"/>
                <Setter Property="TextBlock.FontSize" Value="10"/>
            </Style>

            <Style x:Key="BorderCells" TargetType="Border">
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="BorderBrush" Value="#646464" />
            </Style>
        
        </UserControl.Resources>

        <telerik:RadBusyIndicator Name="Base" IsBusy="{Binding IsBusy}"
                                  d:DataContext="{d:DesignInstance mainControl:ViewModel, IsDesignTimeCreatable=True}" >
                                  
        <!--Шаблон индикатора загрузки грида-->
        <telerik:RadBusyIndicator.BusyContentTemplate>
            <DataTemplate>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Загрузка данных... " FontWeight="Bold" />
                </StackPanel>
            </DataTemplate>
        </telerik:RadBusyIndicator.BusyContentTemplate>
        <Grid >

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="85"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" MouseLeftButtonDown="title_MouseLeftButtonDown" Background="DarkSlateBlue" >
                    <Image  HorizontalAlignment="Left" Margin="10 10 0 4" Source="../Resources/button_image/klipartz.png" Style="{StaticResource ImageButtonRibbonStyle}" />
                    
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">

                        <telerik:RadButton Click="ButtonMin_OnClick"
                                           IsEnabled="True"
                                           Style="{StaticResource TabbedWindowHeaderButtonStyle}">
                            <ToolTipService.ToolTip>
                                <ToolTip>Свернуть </ToolTip>
                            </ToolTipService.ToolTip>
                            <telerik:RadGlyph Glyph="{StaticResource GlyphMinimize}" VerticalAlignment="Center"
                                              HorizontalAlignment="Center" />
                        </telerik:RadButton>
                      
                        <telerik:RadButton x:Name="PART_RestoreButton" Click="PART_RestoreButton_OnClick">
                            
                            <telerik:RadButton.Style>
                                <Style BasedOn="{StaticResource TabbedWindowHeaderButtonStyle}"
                                       TargetType="telerik:RadButton">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=MWindow, Path=WindowState}" Value="Normal">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </telerik:RadButton.Style>
                            <ToolTipService.ToolTip>
                                <ToolTip>Свернуть в окно</ToolTip>
                            </ToolTipService.ToolTip>
                            <telerik:RadGlyph Glyph="{StaticResource GlyphWindowCollapse}" VerticalAlignment="Center"
                                              HorizontalAlignment="Center" />
                        </telerik:RadButton>
                        <telerik:RadButton Click="ButtonMax_OnClick" >
                            <telerik:RadButton.Style>
                                <Style BasedOn="{StaticResource TabbedWindowHeaderButtonStyle}"
                                       TargetType="telerik:RadButton">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=MWindow, Path=WindowState}" Value="Maximized">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </telerik:RadButton.Style>
                            <ToolTipService.ToolTip>
                                <ToolTip>Развернуть</ToolTip>
                            </ToolTipService.ToolTip>
                            <telerik:RadGlyph Glyph="{StaticResource GlyphWindow}" VerticalAlignment="Center"
                                              HorizontalAlignment="Center" />
                        </telerik:RadButton>

                        <telerik:RadButton Click="ButtonClose_OnClick"
                                           Visibility="{Binding IsEnabled, RelativeSource={RelativeSource Self}, Converter={StaticResource BooleanToVisibilityConverter}}">

                            <telerik:RadButton.Style>
                                <Style BasedOn="{StaticResource TabbedWindowHeaderButtonStyle}"
                                       TargetType="telerik:RadButton">

                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="Red"></Setter>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </telerik:RadButton.Style>
                            <ToolTipService.ToolTip>
                                <ToolTip>Закрыть</ToolTip>

                            </ToolTipService.ToolTip>
                            <telerik:RadGlyph Glyph="{StaticResource GlyphClose}" VerticalAlignment="Center"
                                              HorizontalAlignment="Center" />
                        </telerik:RadButton>

                    </StackPanel>
                   
                </Grid>

                <!--Лента -->
                <Grid HorizontalAlignment="Stretch" Grid.Row="1">
                    <TabControl Name="TabControl"  BorderThickness="0" Background="#232323" Margin="0 -1 0 0" HorizontalAlignment="Stretch" SelectedIndex="{Binding ActiveTab}" >
                        <TabControl.Resources>
                            <Style TargetType="TabItem">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="TabItem"  >

                                            <StackPanel Name="Panel" Height="28" Margin="5 0 5 0">
                                                <StackPanel.Resources>
                                                    <Style  x:Name="ButtonStyle" TargetType="TextBlock">

                                                        <Style.Triggers>
                                                            <Trigger Property="TextBlock.IsMouseOver" Value="True">
                                                                <Setter Property="TextBlock.Background" Value="#484848"></Setter>
                                                                <Setter Property="TextBlock.Height" Value="70"></Setter>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </StackPanel.Resources>
                                                <ContentPresenter x:Name="ContentSite"  VerticalAlignment="Top" HorizontalAlignment="Center"
                                                         ContentSource="Header" Margin="0 0 0 0"  >
                                                    <ContentPresenter.ContentTemplate>
                                                        <DataTemplate >
                                                            <TextBlock Name="ff" Text="{Binding}" Style="{StaticResource {x:Type TextBlock}}"  Padding="15 3 15 5" 
                                                                   Margin="0 0 0 0" Foreground="#FFFFFF" FontSize="13"/>
                                                        </DataTemplate>
                                                    </ContentPresenter.ContentTemplate>
                                                </ContentPresenter>
                                                <StackPanel x:Name="SelectLine" Height="4" Background="#3c3c3e" Grid.Row="1" Margin="0 -1 0 0"></StackPanel>
                                            </StackPanel>

                                            <ControlTemplate.Triggers>

                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="SelectLine" Property="Background" Value="#484848" />
                                                </Trigger>

                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter TargetName="SelectLine" Property="Background" Value="DarkSlateBlue" />
                                                </Trigger>

                                                <Trigger Property="Tag" Value="tmp">
                                                    <Setter TargetName="Panel" Property="Background" Value="DarkCyan" />
                                                </Trigger>

                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </TabControl.Resources>

                        <TabItem Header="Главная" Name="Main" >
                            <Grid  HorizontalAlignment="Stretch">
                                <StackPanel Orientation="Horizontal" >
                                    <telerik:RadToolBar Margin="13 -2 0 -1" Height="48" HorizontalAlignment="Stretch" BorderThickness="0" Background="#232323" GripVisibility="Collapsed" AutoHideOverflowButton="True" VerticalAlignment="Center">
                                       
                                        <telerik:RadButton Background="#232323" Command="{Binding CommandUpdateData}"  ToolTipService.ToolTip="Обновить" Style="{StaticResource ButtonRibbonStyle}">
                                            <Image   Source="../Resources/button_image/refresh.png" Style="{StaticResource ImageButtonRibbonStyle}" />
                                        </telerik:RadButton>
                                        <telerik:RadButton Background="#232323" Command="{Binding CommandClearFilterGrid}"  
                                                           ToolTipService.ToolTip="Очистить фильтр" Style="{StaticResource ButtonRibbonStyle}" CommandParameter="{Binding ElementName=GridCartoonsList}">
                                            <Image   Source="../Resources/button_image/clear_filter.png" Style="{StaticResource ImageButtonRibbonStyle}" />
                                        </telerik:RadButton>

                                    </telerik:RadToolBar>

                                    <telerik:RadToolBar Margin="3 -2 0 -1" Height="48" HorizontalAlignment="Stretch" BorderThickness="0"  Background="#232323"
                                                        GripVisibility="Collapsed" AutoHideOverflowButton="True" VerticalAlignment="Center">
                                        <telerik:RadButton Style="{StaticResource ButtonRibbonStyle}" Background="#232323"
                                                           Command="{Binding  CommandClipboardMode}"
                                                           d:DataContext="{d:DesignInstance mainControl:ViewModel, IsDesignTimeCreatable=True}">
                                            <Image>
                                                <Image.Style>
                                                    <Style BasedOn="{StaticResource ImageButtonRibbonStyle}"
                                                           TargetType="Image">
                                                        <Setter Property="Image.Source"
                                                                Value="../Resources/button_image/string_to_clipboard_off.png" />
                                                        <Setter Property="ToolTip" Value="Копировать ячейки" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ClipboardMode}"
                                                                         Value="true">
                                                                <Setter Property="Image.Source"
                                                                        Value="../Resources/button_image/string_to_clipboard_on.png" />
                                                                <Setter Property="ToolTip" Value="Копировать строки" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                        </telerik:RadButton>


                                    </telerik:RadToolBar>

                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <TabItem Header="Выбор билета" Name="CarData" Visibility="{Binding TwoTabVisibility}">
                            <Grid  HorizontalAlignment="Stretch">
                                <StackPanel Orientation="Horizontal" >
                                    <telerik:RadToolBar Margin="13 -2 0 -1" Height="48" HorizontalAlignment="Stretch" Background="#232323"
                                                        BorderThickness="0"  GripVisibility="Collapsed" AutoHideOverflowButton="True" VerticalAlignment="Center">
                                        <telerik:RadButton Background="#232323" Command="{Binding CommandBackToMain}"  ToolTipService.ToolTip="Назад" Style="{StaticResource ButtonRibbonStyle}" IsEnabled="{Binding IsOutEnable}">
                                            <Image   Source="../Resources/button_image/back.png" Style="{StaticResource ImageButtonRibbonStyle}" />
                                        </telerik:RadButton>
                                    </telerik:RadToolBar>

                                </StackPanel>
                            </Grid>
                        </TabItem>

                    </TabControl>
                </Grid>
                <!--Лента завершение-->

                <TabControl Padding="-1" Margin="0 -2 0 0" SelectedIndex="{Binding ActiveTab}" Grid.Column="0"
                            Grid.Row="2" >

                    <!--Грид для отображения журнала -->
                    <TabItem Header="Main" Visibility="Collapsed">
                        <!--Грид для отображения данных -->
                        <Grid Background="#262626" Grid.Row="1" Grid.ColumnSpan="2">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="{Binding WidthRightPanel}" />
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="35" />
                                <RowDefinition Height="*" />

                            </Grid.RowDefinitions>

                            <!-- Title panel-->
                            <Grid Background="DarkSlateBlue" Height="36" Grid.Row="0" Margin="0,0,0,0" Grid.RowSpan="2"
                                  Visibility="Visible" VerticalAlignment="Top">
                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Style="{StaticResource TitleStyle}" Text="Журнал спектаклей"
                                           FontSize="12" Foreground="LightGray"
                                           Margin="20 0 0 0" />
                                <StackPanel HorizontalAlignment="Right" Visibility="Visible" Height="38">
                                    <telerik:RadToolBar Margin="0 -10 -36 0" Height="48" BorderThickness="0"
                                                        GripVisibility="Collapsed" AutoHideOverflowButton="True"
                                                        VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>

                            <Grid Height="36" Grid.Row="0" ZIndex="1" Background="DarkRed" x:Name="TitleErrorString">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Visible" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ErrorString}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Text="{Binding ErrorString}" FontSize="14" VerticalAlignment="Center"
                                           Foreground="#FFE2E1E1"
                                           Margin="20 0 0 0"/>
                            </Grid>

                            <Grid Height="36" Grid.Row="0" ZIndex="1" Background="DarkGreen"
                                  x:Name="TitleMessageString">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Visible" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding MessageString}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" />

                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Text="{Binding MessageString}" FontSize="14" VerticalAlignment="Center"
                                           Foreground="#FFE2E1E1"
                                           Margin="20 0 0 0"/>
                            </Grid>

                            <!-- End Title panel-->

                            
                            <!--/Область данных-->
                            <Grid Grid.Row="2" Grid.Column="0">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="26" />
                                </Grid.RowDefinitions>

                                <telerik:RadGridView x:Name="GridCartoonsList"
                                                    Grid.Column="0"
                                                    Grid.Row="0"
                                                    ItemsSource="{Binding ListCustomTheaterPerformance}"
                                                    ContextMenu="{x:Null}"
                                                    AutoGenerateColumns="False"
                                                    Background="#202020"
                                                    SelectionMode="Extended"
                                                    ShowSearchPanel="False"
                                                    IsReadOnly="True"
                                                    Margin="0 0 -1 0"
                                                    SelectedItem="{Binding SelectedCustomTheaterPerformance}"
                                                    GroupPanelForeground="#777777"
                                                    SearchPanelCloseButtonVisibility="Visible"
                                                    GroupPanelBackground="#202020" >
                                  
                                    <telerik:RadGridView.Columns>


                                        <telerik:GridViewDataColumn Header="Афиша" Width="210"  DataMemberBinding="{Binding Name}" Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Image VerticalAlignment="Center" HorizontalAlignment="Center" Source="{Binding PreviewSource}" Margin="5" Width="150" Height="190" />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        <telerik:GridViewDataColumn Header="Постановка" Width="110" DataMemberBinding="{Binding Name}" Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999"  HorizontalAlignment="Left" TextWrapping="Wrap" Padding="10" Text="{Binding Name}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        
                                        <telerik:GridViewDataColumn Header="Дата и Время" Width="75" DataMemberBinding="{Binding PlanTime, StringFormat='dd.MM.yyyy HH:mm'}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left" TextWrapping="Wrap" Padding="10 " Text="{Binding PlanTime, StringFormat='dd.MM.yyyy HH:mm'}"   />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        <telerik:GridViewDataColumn Header="Анотация" Width="410" DataMemberBinding="{Binding Description}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left" TextWrapping="Wrap" Padding="10" Text="{Binding Description}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>


                                        <telerik:GridViewDataColumn Header="Действующие лица и исполнители" Width="410" DataMemberBinding="{Binding Persons}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left" TextWrapping="Wrap" Padding="10 " Text="{Binding Persons}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        <telerik:GridViewDataColumn Header="Постановочная группа"  Width="410" DataMemberBinding="{Binding Creators}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left" TextWrapping="Wrap" Padding="10 " Text="{Binding Creators}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        <telerik:GridViewDataColumn Header="Продолжительность" Width="80" DataMemberBinding="{Binding Duration}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left"  Padding="5 0 0 0" Text="{Binding Duration}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                        <telerik:GridViewDataColumn Header="Цена билета" Width="110" DataMemberBinding="{Binding Cost}"  Focusable="False" d:DataContext="{d:DesignInstance helper:TheaterPerformanceVM, IsDesignTimeCreatable=True}">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock VerticalAlignment="Center" Foreground="#999" HorizontalAlignment="Left" Padding="5 0 0 0" Text="{Binding Cost}"  />
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                    </telerik:RadGridView.Columns>

                                    <telerik:RadContextMenu.ContextMenu>
                                        <telerik:RadContextMenu 
								            ItemContainerStyle = "{StaticResource MenuItemContainer}" 
								            FontWeight = "Normal"
                                            Opening = "RadContextMenu_OnOpening"
								            Foreground = "#FFBBBBBB"/>
						            </telerik:RadContextMenu.ContextMenu>

                                    <telerik:EventToCommandBehavior.EventBindings>
                                        <telerik:EventBinding
                                            Command="{Binding Path=DataContext.CommandCopyingCellClipboard, ElementName=Base}"
                                            EventName="CopyingCellClipboardContent" RaiseOnHandledEvents="True"
                                            PassEventArgsToCommand="True" />
                                        <telerik:EventBinding
                                            Command="{Binding Path=DataContext.CommandCopying, ElementName=Base}"
                                            EventName="Copying" RaiseOnHandledEvents="True"
                                            PassEventArgsToCommand="True" />

                                        <telerik:EventBinding
                                            Command="{Binding Path=DataContext.CommandMouseDoubleClickGrid, ElementName=Base}"
                                            EventName="MouseDoubleClick" RaiseOnHandledEvents="True"
                                            PassEventArgsToCommand="True" />
                                    </telerik:EventToCommandBehavior.EventBindings>

                                </telerik:RadGridView>

                                <StackPanel Grid.Row="1" Grid.Column="0" Background="#262626" Orientation="Horizontal" ZIndex="0">
                                    <TextBlock Width="25"/>
                                    <TextBlock Text="Мероприятий:" Foreground="#999" Style="{StaticResource ElTextStatusString}"/>
                                    <TextBlock Text="{Binding ElementName=GridCartoonsList,Path=Items.Count }" FontWeight="Bold" Foreground="#483D8B" Style="{StaticResource ElDataStatusString}"/>
                                </StackPanel>

                            </Grid>


                            <TabControl Grid.Column="1" Grid.Row="0"  Grid.RowSpan="3" Padding="-1" Margin="0 -2 0 0"
                                        SelectedIndex="{Binding SelectedIndexRightPanel}"
                                        MaxWidth="550">
                                <TabItem Header="General" Visibility="Collapsed">
                                    <Border CornerRadius="0" Background="#202020" BorderThickness="1 1 1 1" 
                                            BorderBrush="#403c5c" Padding="1">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <!--Шапка панели управления с кнопкой убрать-->
                                            <StackPanel Grid.Row="0" Margin="0 0 0 0">
                                                <StackPanel Orientation="Horizontal" Height="34">
                                                    <telerik:RadButton CornerRadius="0" Height="40" Width="40"
                                                                       Padding="6 0 6 10"
                                                                       Margin="0 0 0 0" IsBackgroundVisible="False"
                                                                       BorderThickness="0"
                                                                       Focusable="False"
                                                                       Command="{Binding CommandToggleRightPanel}">
                                                        <Image Margin="5 5 2 2"
                                                               Source="../Resources/button_image/hide_left_panel.png"
                                                               Stretch="Fill"
                                                               ToolTipService.ToolTip="Свернуть панель" />
                                                    </telerik:RadButton>
                                                    <TextBlock Text="Параметры" Margin="5 8 8 7" FontSize="16"
                                                               Foreground="#999999" TextAlignment="Left" />
                                                </StackPanel>
                                            </StackPanel>
                                            <!--*******************************************-->
                                            <StackPanel Grid.Row="1">
                                                <Expander IsExpanded="True" Margin="5 15 0 0">

                                                    <Expander.Header>
                                                        <StackPanel Grid.Row="3" Grid.ColumnSpan="3" Margin="-5 0 0 0"
                                                                    Width="550">
                                                            <TextBlock Text="Интервал дат" Margin="15 7 8 7"
                                                                       FontSize="16"
                                                                       Foreground="#DDDDDD" />
                                                            <!--<TextBlock Height="1" Background="#999999" />-->
                                                        </StackPanel>

                                                    </Expander.Header>
                                                    <StackPanel>
                                                        <Grid Background="#202020">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="265" />
                                                                <ColumnDefinition Width="275" />
                                                            </Grid.ColumnDefinitions>
                                                            <StackPanel Grid.Column="0" Margin="0 8 0 0">
                                                                <TextBlock Text="Дата от"
                                                                           Style="{StaticResource TitleStyle}"
                                                                           Margin="15 10 0 0"
                                                                           HorizontalAlignment="Left" />
                                                                <telerik:RadCalendar
                                                                    FontSize="10"
                                                                    Name="CalendarFrom"
                                                                    Height="225"
                                                                    VerticalAlignment="Top" 
                                                                    HorizontalAlignment="Center"
                                                                    IsTodayHighlighted="False" 
                                                                    DayButtonStyle="{x:Null}"
                                                                    SelectedDate="{Binding SelectedDateFrom, Mode=TwoWay}"
                                                                    DayTemplateSelector="{StaticResource DayButtonTemplateSelector}"
                                                                    DayButtonStyleSelector="{DynamicResource CustomStyleSelector}"
                                                                    DisplayDate="{Binding DisplayDateFrom}"
                                                                    DisplayMode="{Binding DisplayModeFrom}"
                                                                    Margin="10 5 10 1" />
                                                                <telerik:RadButton Content="Сегодня" Margin="10 0 10 1"
                                                                                   Foreground="#AAAAAA" Background="DarkSlateBlue"
                                                                                   Command="{Binding  CommandCalendarFromToday}" />

                                                            </StackPanel>

                                                            <StackPanel Grid.Column="1" Margin="10 8 0 0">
                                                                <TextBlock Text="Дата до"
                                                                           Style="{StaticResource TitleStyle}"
                                                                           Margin="15 10 0 0"
                                                                           HorizontalAlignment="Left" />
                                                                <telerik:RadCalendar
                                                                    FontSize="10"
                                                                    Name="CalendarTo" 
                                                                    Height="225"
                                                                    VerticalAlignment="Top"
                                                                    HorizontalAlignment="Center"
                                                                    IsTodayHighlighted="False"
                                                                    DayTemplateSelector="{StaticResource DayButtonTemplateSelector}"
                                                                    DayButtonStyleSelector="{DynamicResource CustomStyleSelector}"
                                                                    DayButtonStyle="{x:Null}"
                                                                    SelectedDate="{Binding SelectedDateTo, Mode=TwoWay}"
                                                                    DisplayDate="{Binding DisplayDateTo}"
                                                                    DisplayMode="{Binding DisplayModeTo}"
                                                                    Margin="10 5 10 1" />
                                                                <telerik:RadButton Content="Сегодня"
                                                                                   Margin="10 0 10 10" Background="DarkSlateBlue"
                                                                                   Foreground="#AAAAAA"
                                                                                   Command="{Binding  CommandCalendarToToday}" />

                                                            </StackPanel>

                                                        </Grid>

                                                    </StackPanel>
                                                </Expander>
                                                <Expander IsExpanded="True" Margin="5 15 0 0">

                                                    <Expander.Header>
                                                        <StackPanel Grid.Row="3" Grid.ColumnSpan="3" Margin="-5 0 0 0"
                                                                    Width="550">
                                                            <TextBlock Text="Краткие сведения" Margin="15 7 8 7"
                                                                       FontSize="16"
                                                                       Foreground="#DDDDDD" />
                                                        </StackPanel>

                                                    </Expander.Header>
                                                    <StackPanel>
                                                            <Image VerticalAlignment="Center" HorizontalAlignment="Center" Source="{Binding SelectedCustomTheaterPerformance.PreviewSource}" Margin="5" Width="270" Height="420" />
                                                        <Border Background="#181818" BorderThickness="1" CornerRadius="7" Margin=" 20 0 20 0">
                                                            <StackPanel>
                                                            <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="Название: " Margin="15 10 0 0" FontSize="16" Width="80" Foreground="#999999" TextAlignment="Left" />
                                                                    <TextBlock Text="{Binding SelectedCustomTheaterPerformance.Name}" Margin="15 10 0 0" FontSize="16" Width="400" Foreground="#5748b0" TextAlignment="Left" />
                                                                </StackPanel>
                                                                <StackPanel Orientation="Horizontal" Margin="0 5 0 0 ">
                                                                    <TextBlock Text="Дата: " Margin="15 0 0 0" FontSize="16" Width="80" Foreground="#999999" TextAlignment="Left" />
                                                                    <TextBlock Text="{Binding SelectedCustomTheaterPerformance.PlanTimeVM}"  Margin="15 0 0 0" FontSize="16" Width="140" Foreground="#5748b0" TextAlignment="Left" />
                                                                    <TextBlock Text="Цена за билет: " Margin="15 0 0 0" FontSize="16" Width="110" Foreground="#999999" TextAlignment="Left" />
                                                                    <TextBlock Text="{Binding SelectedCustomTheaterPerformance.CostVM}" Margin="15 0 0 10" FontSize="16" Width="20" Foreground="#5748b0" TextAlignment="Left" />
                                                                    <TextBlock Text="BYN" Margin="0 0 0 10" FontSize="16" Width="100" Foreground="#5748b0" TextAlignment="Left" />
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </Border>
                                                    </StackPanel>
                                                </Expander>

                                            </StackPanel>

                                        </Grid>
                                    </Border>
                                </TabItem>
                                

                            </TabControl>

                            <!--Правая панель-->
                            <Grid Name="RightPanel" Grid.Column="1" Grid.Row="0" Grid.RowSpan="3"
                                  Visibility="{Binding VisibilityRightPanel}" HorizontalAlignment="Right"
                                  MaxWidth="50">
                                <Grid.Style>
                                    <Style>
                                        <Setter Property="Grid.Background" Value="#202020"></Setter>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding WidthRightPanel}" Value="550">
                                                <Setter Property="Grid.Background" Value="#BB202020"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>


                                <StackPanel Margin="0 0 0 0">
                                    <StackPanel Orientation="Vertical">
                                        <telerik:RadButton CornerRadius="0" Height="40" Width="42" Padding="6"
                                                           Margin="0 0 0 0" IsBackgroundVisible="False"
                                                           BorderThickness="0"
                                                           Focusable="False"
                                                           Command="{Binding CommandToggleRightPanel}"
                                                           CommandParameter="0">
                                            <Image Margin="5 5 0 0"
                                                   Source="../Resources/button_image/main_panel.png"
                                                   Stretch="Fill" ToolTipService.ToolTip="Главная панель" />
                                        </telerik:RadButton>
                                       

                                    </StackPanel>

                                </StackPanel>
                            </Grid>
                            <!--Right panel end-->
                        </Grid>
                    </TabItem>

                    <TabItem Header="Second" Visibility="Collapsed">
                        <!--Грид для отображения данных -->
                        <Grid Background="#262626" Grid.Row="1" Grid.ColumnSpan="2">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="{Binding WidthRightPanel}" />
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="35" />
                                <RowDefinition Height="39" />
                                <RowDefinition Height="*" />

                            </Grid.RowDefinitions>

                            <!-- Title panel-->
                            <Grid Background="DarkSlateBlue" Height="36" Grid.Row="0" Margin="0,0,0,0" Grid.RowSpan="2"
                                  Visibility="Visible" VerticalAlignment="Top">
                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Style="{StaticResource TitleStyle}" Text="Схема зала"
                                           FontSize="12" Foreground="LightGray"
                                           Margin="20 0 0 0" />
                                <StackPanel HorizontalAlignment="Right" Visibility="Visible" Height="38">
                                    <telerik:RadToolBar Margin="0 -10 -36 0" Height="48" BorderThickness="0"
                                                        GripVisibility="Collapsed" AutoHideOverflowButton="True"
                                                        VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>

                            <Grid Height="36" Grid.Row="0" ZIndex="1" Background="DarkRed" x:Name="TitleErrorStringsec">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Visible" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ErrorString}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Text="{Binding ErrorString}" FontSize="14" VerticalAlignment="Center"
                                           Foreground="#FFE2E1E1"
                                           Margin="20 0 0 0"/>
                            </Grid>

                            <Grid Height="36" Grid.Row="0" ZIndex="1" Background="DarkGreen"
                                  x:Name="TitleMessageStringsec">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Visible" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding MessageString}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" />

                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <TextBlock HorizontalAlignment="Left" TextAlignment="Left"
                                           Text="{Binding MessageString}" FontSize="14" VerticalAlignment="Center"
                                           Foreground="#FFE2E1E1"
                                           Margin="20 0 0 0"/>
                            </Grid>

                            <!-- End Title panel-->

                            <!--/Область данных-->
                            <Grid Grid.Row="2" Grid.Column="0">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="26" />
                                </Grid.RowDefinitions>

                                <Border Background="#181818" Margin="25" CornerRadius="7">
                                    <Grid>
                                    <telerik:RadListBox Name="SecondListBoxRamps" Background="#181818"  BorderThickness="0" ItemsSource="{Binding ListSlots}"
                                            ScrollViewer.HorizontalScrollBarVisibility="Visible" ScrollViewer.VerticalScrollBarVisibility="Hidden" 
                                            SelectionMode="Extended"  SelectedValue="{Binding ElementName=Base,Path=DataContext.SelectedSlots, UpdateSourceTrigger=PropertyChanged}"
                                            SelectionChanged="SecondListBoxRamps_OnSelectionChanged"
                                            ItemContainerStyle="{StaticResource RampListbox}"  VerticalContentAlignment="Top" Padding="45 50 7 7 "  Margin="7 0 7 0">
                                        <telerik:RadListBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel Orientation="Horizontal" Width="1260" />
                                            </ItemsPanelTemplate>
                                        </telerik:RadListBox.ItemsPanel>
                 
                                        <telerik:RadListBox.ItemTemplate >
                                            <DataTemplate>
                                                <TextBlock  Padding="0"  Margin="1" FocusVisualStyle="{x:Null}" Background="#262626"  >
                                                    <Grid  Width="82" Height="82">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="3*"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="22"/>
                                                            <RowDefinition  Height="3*"/>
                                                        </Grid.RowDefinitions>
                                                        <TextBlock Margin="0 -20 0 0" Grid.Row="1"  FontSize="21" TextAlignment="Center"  Text="{Binding Key }" TextWrapping="Wrap"  Style="{StaticResource TitleStyle}" Grid.ColumnSpan="2" Grid.Column="0"  />
                                                    </Grid>
                                                </TextBlock>
                                            </DataTemplate>
                                        </telerik:RadListBox.ItemTemplate>

                                    </telerik:RadListBox>
                                
                                    <TextBlock Text="ПАРТЕР" FontSize="25" Foreground="DarkSlateBlue" VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0 0 0 130"/>
                                    <Border BorderThickness="2" BorderBrush="DarkSlateBlue" Width="600" Height="65" VerticalAlignment="Bottom" Margin="0 0 0 45">
                                        <TextBlock Text="Оркестр" FontSize="25" Foreground="DarkSlateBlue" HorizontalAlignment="Center" Padding="0 10 0 0"/>
                                    </Border>
                                        <TextBlock Text="Сцена" FontSize="22" Foreground="DarkSlateBlue" HorizontalAlignment="Center" Margin="0 0 0 3" VerticalAlignment="Bottom"/>
                                    <Border BorderThickness="1" BorderBrush="DarkSlateBlue" Width="1200" Height="2" Background="DarkSlateBlue" Margin="0 0 0 35" VerticalAlignment="Bottom">
                                    </Border>
                                    </Grid>
                                </Border>


                                <StackPanel Grid.Row="1" Grid.Column="0" Background="#262626" Orientation="Horizontal" ZIndex="0">
                                    <TextBlock Width="25"/>
                                    <TextBlock Text="Мест: " Foreground="#999" Style="{StaticResource ElTextStatusString}"/>
                                    <TextBlock Text="{Binding ElementName=GridCartoonsList,Path=Items.Count }" FontWeight="Bold" Foreground="#483D8B" Style="{StaticResource ElDataStatusString}"/>
                                </StackPanel>

                            </Grid>

                            <TabControl Grid.Column="1" Grid.Row="0"  Grid.RowSpan="3" Padding="-1" Margin="0 -2 0 0"
                                        SelectedIndex="{Binding SelectedIndexRightPanel}"
                                        MaxWidth="550">
                                <TabItem Header="General" Visibility="Collapsed">
                                    <Border CornerRadius="0" Background="#202020" BorderThickness="1 1 1 1" 
                                            BorderBrush="#403c5c" Padding="1">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <!--Шапка панели управления с кнопкой убрать-->
                                            <StackPanel Grid.Row="0" Margin="0 0 0 0">
                                                <StackPanel Orientation="Horizontal" Height="34">
                                                    <telerik:RadButton CornerRadius="0" Height="40" Width="40"
                                                                       Padding="6 0 6 10"
                                                                       Margin="0 0 0 0" IsBackgroundVisible="False"
                                                                       BorderThickness="0"
                                                                       Focusable="False"
                                                                       Command="{Binding CommandToggleRightPanel}">
                                                        <Image Margin="5 5 2 2"
                                                               Source="../Resources/button_image/hide_left_panel.png"
                                                               Stretch="Fill"
                                                               ToolTipService.ToolTip="Свернуть панель" />
                                                    </telerik:RadButton>
                                                    <TextBlock Text="Ваши данные" Margin="5 8 8 7" FontSize="16"
                                                               Foreground="#999999" TextAlignment="Left" />
                                                </StackPanel>
                                            </StackPanel>
                                            <!--*******************************************-->
                                            <StackPanel Grid.Row="1">

                                                <Border Background="#181818" Margin="10 20 10 0" CornerRadius="7" Width="450" Height="480">

                                                    <StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="Почта" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="example@gmail.com"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="250"
                                                                    Mask="a300"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 7 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.Email" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                     
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="Телефон" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="Телефон"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="250"
                                                                    Mask="a300"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 7 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.PhoneNumber" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                     
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="Имя" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="Иван"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="250"
                                                                    Mask="a300"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 7 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.Name" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                     
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="Фамилия" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="Иванов"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="250"
                                                                    Mask="a300"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 7 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.Surname" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                     
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="CVV" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="XXX"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="60"
                                                                    Mask="d3"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 10 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.CVV" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                                            <TextBlock Text="Срок" Margin="45 8 8 7" FontSize="16" Width="60"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="XX/XX"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="70"
                                                                    Mask="##/##"
                                                                    AcceptsReturn="False"
                                                                    Placeholder=""
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 10 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.Date" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 20 0 0">
                                                            <TextBlock Text="Номер" Margin="45 8 38 7" FontSize="16" Width="70"
                                                                       Foreground="#999999" TextAlignment="Left" />
                                                            <telerik:RadMaskedTextInput
                                                                    VerticalContentAlignment="Stretch"
                                                                    EmptyContent="0000-0000-0000-0000"
                                                                    FocusManager.IsFocusScope="True"
                                                                    Height="35"
                                                                    Width="250"
                                                                    Mask="#### #### #### ####"
                                                                    AcceptsReturn="False"
                                                                    Placeholder="" 
                                                                    SelectionOnFocus ="CaretToBeginning"
                                                                    TextMode="PlainText" 
                                                                    Margin="5 5 0 0"
                                                                    Padding="7 7 0 0" 
                                                                    HorizontalAlignment="Left"   
                                                                    Validation.ErrorTemplate="{StaticResource validationFailed}" >
                                                                <telerik:RadMaskedTextInput.Value>
                                                                    <Binding Path="NewOrder.CartNumber" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                                                                        <Binding.ValidationRules >
                                                                            <DataErrorValidationRule/>
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </telerik:RadMaskedTextInput.Value>
                                                       
                                                                <telerik:RadMaskedTextInput.TextBoxStyle>
                                                                    <Style TargetType="maskedInput:PreviewInputTextBox" >
                                                                        <Setter Property="TextWrapping" Value="Wrap" />
                                                                        <Setter Property="AcceptsReturn" Value="False" />
                                                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                        <Setter Property="SelectionOpacity" Value="0.15"/>
                                                                        <Setter Property="SelectionBrush" Value="DarkSlateBlue"/>
                                                            
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="maskedInput:PreviewInputTextBox">
                                                                                    <ScrollViewer
                                                                                                            Padding="{TemplateBinding Padding}"
                                                                                                            Background="Transparent"
                                                                                                            BorderThickness="0"
                                                                                                            Foreground="{TemplateBinding Foreground}"
                                                                                                            VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                            x:Name="PART_ContentHost"/>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.TextBoxStyle>
                                                                
                                                                <telerik:RadMaskedTextInput.Style>
                                                                    <Style TargetType="telerik:RadMaskedTextInput" BasedOn="{StaticResource MaskTextInputStyle}" >
                                                                        <Style.Triggers>
                                                                            <Trigger Property="Validation.HasError" Value="True">
                                                                                <Setter Property="ToolTip"
                                                                                        Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                                                                                <Setter Property="Foreground" Value="Red" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="True">
                                                                                <Setter Property="Foreground" Value="#999999" />
                                                                            </Trigger>
                                                                            <Trigger Property="IsEmpty" Value="False">
                                                                                <Setter Property="Foreground" Value="#FFF" />
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </telerik:RadMaskedTextInput.Style>
                                                            </telerik:RadMaskedTextInput>
                                     
                                                        </StackPanel>

                                                        <telerik:RadButton Content="Заказать" Margin="10 40 10 1" Width="250" Height="40" FontSize="15"
                                                                           Foreground="#AAAAAA" Background="DarkSlateBlue"
                                                                           Command="{Binding  CommandSaveOrder}" />

                                                    </StackPanel>

                                                </Border>


                                            </StackPanel>

                                        </Grid>
                                    </Border>
                                </TabItem>
                                

                            </TabControl>

                            <!--Правая панель-->
                            <Grid Name="RightPanelSec" Grid.Column="1" Grid.Row="0" Grid.RowSpan="3"
                                  Visibility="{Binding VisibilityRightPanel}" HorizontalAlignment="Right"
                                  MaxWidth="50">
                                <Grid.Style>
                                    <Style>
                                        <Setter Property="Grid.Background" Value="#202020"></Setter>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding WidthRightPanel}" Value="550">
                                                <Setter Property="Grid.Background" Value="#BB202020"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>


                                <StackPanel Margin="0 0 0 0">
                                    <StackPanel Orientation="Vertical">
                                        <telerik:RadButton CornerRadius="0" Height="40" Width="42" Padding="6"
                                                           Margin="0 0 0 0" IsBackgroundVisible="False"
                                                           BorderThickness="0"
                                                           Focusable="False"
                                                           Command="{Binding CommandToggleRightPanel}"
                                                           CommandParameter="0">
                                            <Image Margin="5 5 0 0"
                                                   Source="../Resources/button_image/main_panel.png"
                                                   Stretch="Fill" ToolTipService.ToolTip="Главная панель" />
                                        </telerik:RadButton>
                                       

                                    </StackPanel>

                                </StackPanel>
                            </Grid>
                            <!--Right panel end-->
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>
        </telerik:RadBusyIndicator>
    </UserControl>
</Window>
